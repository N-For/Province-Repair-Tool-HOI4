Инструкция по использованию программы для исправления ошибок построек в провинциях
Описание программы
Эта программа предназначена для автоматического исправления распространённой проблемы в модах для игр, когда при переназначении провинции в другую область возникают ошибки локации построек. Программа обрабатывает файл buildings.txt, исправляя несоответствия между фактическим и ожидаемым расположением построек.

Преимущества использования программы
Автоматизация рутинной работы - больше не нужно вручную исправлять сотни строк

Точность - исключаются человеческие ошибки при редактировании

Экономия времени - процесс занимает секунды вместо часов ручной работы

Открытый код - вы можете проверить и модифицировать программу под свои нужды

Подробная инструкция по использованию
Шаг 1: Подготовка файла с ошибками
Перейдите в папку с логами ошибок игры

Найдите все строки с ошибками вида:

[22:34:23][1936.01.01.12][mapbuildings.cpp:702]: map/buildings.txt error at line 32338: map building(nuclear_reactor_spawn) location is not within specified state. Supposed to be '829 - Карл-Маркс-Штадт' but was '1017 - Штрудельград'for province 9475. BUILDING IGNORED!
Скопируйте все найденные ошибки в отдельный текстовый файл (по умолчанию программа ожидает файл с именем er.txt в корневой папке)

Шаг 2: Форматирование ошибок
Откройте файл с ошибками (er.txt)

Приведите каждую строку к следующему формату:

error line <номер строки> - supposed <номер провинции> '<название>' but was <номер провинции> '<название>' - province <номер провинции>
Пример:

error line 31281 - supposed 238 'Волгодонск' but was 1021 'Патапимово' - province 6796
Совет: Если у вас много ошибок и не хочется форматировать их вручную:

Скопируйте все исходные ошибки

Вставьте их в DeepSeek Chat или аналогичный сервис

Попросите: "Приведи код ошибки к следующему виду: error line <number> - supposed <number> <name> but was <number> <name> - province <number>"

Скопируйте отформатированный результат обратно в er.txt

Шаг 3: Подготовка файла buildings.txt
Найдите файл buildings.txt по пути: <ваш_мод>\map\buildings.txt

Скопируйте этот файл в папку с программой (рядом с исполняемым файлом)

Шаг 4: Запуск программы
Убедитесь, что в папке с программой находятся:

Файл с ошибками (er.txt)

Файл buildings.txt

Запустите программу (двойной клик по исполняемому файлу)

Программа автоматически:

Проанализирует файл с ошибками

Найдет соответствующие строки в buildings.txt

Исправит идентификаторы провинций на правильные

Шаг 5: Завершение работы
После завершения работы программы:

Скопируйте исправленный файл buildings.txt обратно в <ваш_мод>\map\

Перезапустите игру/мод, чтобы изменения вступили в силу

Дополнительные возможности
Если вы знакомы с C++:

Вы можете пересобрать программу под свои нужды

Изменить пути к файлам по умолчанию

Добавить дополнительную функциональность

Техническое описание работы программы
Программа выполняет следующие действия:

Читает файл с ошибками (er.txt)

Для каждой ошибки извлекает:

Номер строки в buildings.txt

Ожидаемый ID провинции

Фактический ID провинции

Находит указанную строку в buildings.txt

Заменяет неправильный ID провинции на правильный

Сохраняет изменения в buildings.txt

Пример работы
Оригинальная строка в buildings.txt (строка 32338):

829;nuclear_reactor_spawn;3517.00;10.05;1523.00;4.00;0
После обработки:

1017;nuclear_reactor_spawn;3517.00;10.05;1523.00;4.00;0
Заключение
Эта программа значительно упрощает процесс исправления ошибок построек в провинциях, экономя ваше время и избавляя от рутинной работы. Просто следуйте инструкции, и все ошибки будут исправлены автоматически!